<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#fff0f3">
    <title>For Jhinuk | Rose Day</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ef233c;
            --secondary: #ff4d6d;
            --glass-bg: rgba(255, 255, 255, 0.35);
            --glass-border: rgba(255, 255, 255, 0.6);
            --dark-text: #2b2d42;
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        html, body {
            width: 100%; 
            height: 100%; 
            height: 100dvh; 
            overflow: hidden; 
            position: fixed;
            font-family: 'Poppins', sans-serif; 
            color: var(--dark-text);
            background: linear-gradient(135deg, #fff0f3, #ffd1d9);
            overscroll-behavior: none;
        }

        /* Moving Background Blobs */
        .bg-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            z-index: 0;
            opacity: 0.6;
            animation: moveBlob 20s infinite alternate;
            will-change: transform;
        }
        .blob-1 { top: -10%; left: -10%; width: 80vw; height: 80vw; background: #ffb3c1; animation-delay: 0s; }
        .blob-2 { bottom: -10%; right: -10%; width: 70vw; height: 70vw; background: #ffc8dd; animation-delay: -5s; }
        
        @keyframes moveBlob {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(30px, 30px) scale(1.1); }
        }

        /* Falling Petals */
        .petal {
            position: absolute; background-color: var(--secondary); border-radius: 150% 0 150% 0;
            opacity: 0.6; pointer-events: none; z-index: 10; animation: fall linear forwards;
            box-shadow: 0 0 10px rgba(255, 77, 109, 0.3);
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }

        /* Layout & Glassmorphism */
        .slider { 
            height: 100%; width: 100%; 
            transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); 
            position: relative; z-index: 5; 
        }

        section { 
            height: 100dvh; width: 100vw; 
            display: flex; flex-direction: column; 
            justify-content: center; align-items: center; 
            text-align: center; 
            padding: 20px;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            border-radius: 30px;
            width: 100%;
            max-width: 360px;
            max-height: 85dvh;
            overflow-y: auto;
            padding: 40px 20px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* Typography */
        h1 { 
            font-family: 'Dancing Script', cursive; 
            font-size: clamp(3.5rem, 12vw, 5rem); 
            background: linear-gradient(45deg, #d90429, #ff4d6d);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin: 0px 0 10px; 
            line-height: 1.1;
            filter: drop-shadow(0 2px 4px rgba(239, 35, 60, 0.2));
            animation: fadeUp 1s ease-out;
        }

        h2 { 
            font-family: 'Dancing Script', cursive; 
            font-size: clamp(2rem, 8vw, 3rem); 
            margin-bottom: 20px; 
            color: var(--primary); 
            line-height: 1.2;
        }

        p { 
            font-size: 1.05rem; line-height: 1.6; color: #444; 
            max-width: 320px; margin: 0 auto; 
            animation: fadeUp 1.2s ease-out;
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Elements */
        .big-rose { 
            font-size: clamp(80px, 20vw, 120px); 
            margin-bottom: 10px; 
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));
            animation: float 4s ease-in-out infinite; 
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* Buttons */
        .btn-chunky {
            margin-top: 25px; 
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white; border: none; padding: 16px 35px;
            border-radius: 50px; font-size: 1rem; font-weight: 600; letter-spacing: 1px;
            width: auto; min-width: 180px;
            box-shadow: 0 10px 25px rgba(239, 35, 60, 0.3); 
            cursor: pointer; transition: transform 0.2s;
            position: relative; overflow: hidden;
            text-transform: uppercase;
            user-select: none; -webkit-user-select: none;
        }
        
        .btn-chunky:active { transform: scale(0.92); }

        /* Choice Grid */
        .choice-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; 
            width: 100%; max-width: 340px; margin-bottom: 10px;
        }
        .choice-card { 
            background: rgba(255,255,255,0.5); 
            padding: 20px 10px; border-radius: 20px; 
            font-size: 2.5rem; cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        .choice-card:active { transform: scale(0.9); background: white; }

        /* Garden */
        .garden-box { 
            width: 100%; 
            height: 45vh; 
            max-width: 340px;
            background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px);
            border-radius: 30px; 
            border: 1px solid rgba(255,255,255,0.6);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            align-items: center; justify-items: center;
            padding: 10px;
        }
        
        .floating-rose { 
            font-size: 2.2rem; cursor: pointer; 
            transition: transform 0.3s;
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.1));
            animation: bob 3s infinite ease-in-out alternate;
            user-select: none;
        }
        .floating-rose:active { transform: scale(1.4); }
        
        @keyframes bob { 
            0% { transform: translateY(0); } 
            100% { transform: translateY(8px); } 
        }

        /* Modal */
        #customModal { 
            position: fixed; inset: 0; background: rgba(43, 45, 66, 0.6); 
            backdrop-filter: blur(5px); z-index: 1000; display: none; 
            justify-content: center; align-items: center; padding: 20px; 
            opacity: 0; transition: opacity 0.3s ease;
        }
        
        .modal-content { 
            background: rgba(255, 255, 255, 0.98); padding: 40px 25px; 
            border-radius: 30px; text-align: center; width: 100%; max-width: 320px; 
            transform: scale(0.8); transition: 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        /* Final Card specific styles */
        .final-text {
            text-align: left; 
            padding: 0 10px;
            font-size: 1rem;
            max-height: 40vh;
            overflow-y: auto;
        }

        .helper-text {
            font-size: 0.8rem; opacity: 0.6; margin-top: 15px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 0.3; } }

    </style>
</head>
<body>

    <div class="bg-blob blob-1"></div>
    <div class="bg-blob blob-2"></div>

    <div id="customModal" onclick="closeModal()">
        <div class="modal-content" id="modalContent" onclick="event.stopPropagation()">
            <div id="modalIcon" style="font-size: 4rem; margin-bottom: 15px;">üåπ</div>
            <p id="modalText" style="font-weight: 600; font-size: 1.1rem; color: #333;"></p>
            <button class="btn-chunky" style="margin-top: 20px; padding: 12px 30px; font-size: 0.9rem; width: 100%;" onclick="closeModal()">So Sweet!</button>
        </div>
    </div>

    <div class="slider" id="slider">
        
        <section>
            <div class="glass-panel">
                <div class="big-rose">üåπ</div>
                <h1>Dearest Jhinuk</h1>
                <p>A single rose can be my garden...<br>a single friend, my world.<br>You are both.</p>
                <div class="helper-text">Swipe up or tap below</div>
                <button class="btn-chunky" onclick="next(1)">Open My Heart</button>
            </div>
        </section>

        <section>
            <div class="glass-panel">
                <h2>Pick a Rose</h2>
                <div class="choice-grid">
                    <div class="choice-card" onclick="handleChoice('‚ù§Ô∏è', 'Red is for my promise. I will love you through every season of life.')">‚ù§Ô∏è</div>
                    <div class="choice-card" onclick="handleChoice('üíñ', 'Pink is for your smile. It‚Äôs the prettiest curve in the world.')">üíñ</div>
                    <div class="choice-card" onclick="handleChoice('üíõ', 'Yellow is for our friendship. You are my safe space, Jhinuk.')">üíõ</div>
                    <div class="choice-card" onclick="handleChoice('ü§ç', 'White is for peace. When I‚Äôm with you, the world goes quiet.')">ü§ç</div>
                </div>
                <p style="font-size: 0.85rem; opacity: 0.8; margin-top: 10px;">Tap a color to see what it means to me</p>
                <button class="btn-chunky" onclick="next(2)">Enter Garden</button>
            </div>
        </section>

        <section>
            <div class="glass-panel">
                <h2>Our Secret Garden</h2>
                <p style="margin-bottom: 15px; font-size: 0.9rem;">Tap the floating roses to find hidden notes.</p>
                <div class="garden-box" id="gardenArea"></div>
                <button class="btn-chunky" onclick="next(3)">Read Final Letter</button>
            </div>
        </section>

        <section>
            <div class="glass-panel">
                <h2 style="font-size: 3rem; color: var(--primary); margin-bottom: 5px;">Happy<br>Rose Day</h2>
                <div style="width: 50px; height: 3px; background: var(--secondary); margin: 5px auto 20px; border-radius: 2px;"></div>
                
                <div class="final-text">
                    <p>
                        My Dearest Jhinuk, <br><br>
                        They say roses speak the language of love, but even a million roses couldn't express how much you mean to me. 
                        <br><br>
                        You are the color in my black and white world, and the calm in my storm.
                        <br><br>
                        <strong>Yours always,<br>Aniruddha</strong>
                    </p>
                </div>

                <button class="btn-chunky" style="background: var(--dark-text); margin-top: 25px;" onclick="next(0)">Replay</button>
            </div>
        </section>
    </div>

    <script>
        let currentSlide = 0;
        const totalSlides = 4;
        
        // Haptic Feedback Helper
        function triggerHaptic() {
            if (navigator.vibrate) navigator.vibrate(15);
        }

        function next(idx) { 
            currentSlide = idx;
            updateSlider();
            triggerHaptic();
        }

        function updateSlider() {
            document.getElementById('slider').style.transform = `translateY(-${currentSlide * 100}dvh)`;
        }

        // Swipe Logic for Mobile
        let touchStartY = 0;
        let touchEndY = 0;

        document.addEventListener('touchstart', e => {
            touchStartY = e.changedTouches[0].screenY;
        }, {passive: true});

        document.addEventListener('touchend', e => {
            touchEndY = e.changedTouches[0].screenY;
            handleSwipe();
        }, {passive: true});

        function handleSwipe() {
            const threshold = 50;
            if (touchStartY - touchEndY > threshold) {
                // Swiped Up (Next)
                if (currentSlide < totalSlides - 1) next(currentSlide + 1);
            } else if (touchEndY - touchStartY > threshold) {
                // Swiped Down (Prev)
                if (currentSlide > 0) next(currentSlide - 1);
            }
        }

        // Interaction Logic
        function handleChoice(icon, text) {
            triggerHaptic();
            openModal(icon, text);
        }

        function openModal(icon, text) {
            const modal = document.getElementById('customModal');
            const content = modal.querySelector('.modal-content');
            
            document.getElementById('modalIcon').innerText = icon;
            document.getElementById('modalText').innerText = text;
            
            modal.style.display = 'flex';
            setTimeout(() => { 
                modal.style.opacity = '1';
                content.style.transform = 'scale(1)'; 
            }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('customModal');
            const content = modal.querySelector('.modal-content');
            
            modal.style.opacity = '0';
            content.style.transform = 'scale(0.8)';
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }

        // Petals Logic
        function createPetal() {
            const petal = document.createElement('div');
            petal.className = 'petal';
            const size = Math.random() * 15 + 8; 
            petal.style.width = size + 'px';
            petal.style.height = size + 'px';
            petal.style.left = (Math.random() * 100) + 'vw';
            
            const colors = ['#ff4d6d', '#ff758f', '#ffb3c1', '#ef233c'];
            petal.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            petal.style.animationDuration = Math.random() * 3 + 4 + 's';
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 7000);
        }
        setInterval(createPetal, 500);

        // Garden Logic (Grid based randomizer)
        const thoughts = [
            "You are the poetry I never knew how to write.",
            "I'd choose you. In every lifetime.",
            "Your laugh is my favorite sound.",
            "Holding your hand is my definition of peace.",
            "You make reality better than my dreams.",
            "Thank you for being my sunshine.",
            "I love you more than there are petals in this garden.",
            "You are the best thing that ever happened to me.",
            "You aren't just a rose, you're the whole garden."
        ];

        const shuffledThoughts = thoughts.sort(() => Math.random() - 0.5);
        const area = document.getElementById('gardenArea');
        
        for(let i=0; i < 9; i++) {
            const r = document.createElement('div');
            r.className = 'floating-rose';
            r.innerHTML = 'üåπ';
            
            // Random Jitter
            const jitterX = (Math.random() * 10) - 5;
            const jitterY = (Math.random() * 10) - 5;
            r.style.transform = `translate(${jitterX}px, ${jitterY}px)`;
            
            r.style.animationDelay = (Math.random() * 2) + 's';

            const myMsg = shuffledThoughts[i % shuffledThoughts.length];
            r.onclick = () => handleChoice('üåπ', myMsg);
            area.appendChild(r);
        }
    </script>
</body>
</html>